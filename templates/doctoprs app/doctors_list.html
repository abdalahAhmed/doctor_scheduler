{% extends 'base.html' %}

{% block title %}ูุงุฆูุฉ ุงูุฃุทุจุงุก{% endblock %}

{% block content %}
<div class="container">
  <h2 class="my-4">ุฅุฏุงุฑุฉ ุงูุฃุทุจุงุก</h2>

  <!-- ๐ ููุชุฑ ุงูุจุญุซ -->
  <form method="get" class="mb-3 d-flex">
    <input type="text" name="q" class="form-control me-2" placeholder="ุงุจุญุซ ุจุงุณู ุฃู ุชุฎุตุต..." value="{{ request.GET.q }}">
    <button class="btn btn-outline-primary" type="submit">ุจุญุซ</button>
  </form>

  <a href="{% url 'add_doctor' %}" class="btn btn-success mb-3">ุฅุถุงูุฉ ุทุจูุจ ุฌุฏูุฏ</a>

  <table class="table table-bordered table-hover text-center">
    <thead class="table-light">
      <tr>
        <th>#</th>
        <th>ุงูุงุณู</th>
        <th>ุงูุชุฎุตุต</th>
        <th>ุงูุนูุงุฏุงุช ุงูููุถูุฉ</th>
        <th>ุงูุฃูุงู ุงูููุถูุฉ</th>
        <th>ุงูุญุฏ ุงูุฃูุตู ููุฌูุณุงุช</th>
        <th>ุงูููุงูุจุฉ</th>
        <th>ูุฏุฑุจุ</th>
        <th>ุชุญูู</th>
      </tr>
    </thead>
    <tbody>
      {% for doctor in doctors %}
      <tr>
        <td>{{ forloop.counter }}</td>
        <td>{{ doctor.name }}</td>
        <td>{{ doctor.specialty }}</td>
        <td>{{ doctor.preferred_clinics|join:", " }}</td>
        <td>{{ doctor.preferred_days|join:", " }}</td>
        <td>{{ doctor.max_sessions }}</td>
        <td>{{ doctor.shift_preference|join:", " }}</td>
        <td>{% if doctor.has_training %}โ{% else %}โ{% endif %}</td>
        <td>
          <a href="{% url 'edit_doctor' doctor.id %}" class="btn btn-sm btn-primary">ุชุนุฏูู</a>
          <a href="{% url 'delete_doctor' doctor.id %}" class="btn btn-sm btn-danger" onclick="return confirm('ูู ุฃูุช ูุชุฃูุฏ ูู ุงูุญุฐูุ');">ุญุฐู</a>
        </td>
      </tr>
      {% empty %}
      <tr><td colspan="9">ูุง ููุฌุฏ ูุชุงุฆุฌ.</td></tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
